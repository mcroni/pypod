#:import Toolbar kivymd.toolbar.Toolbar
#:import ThemeManager kivymd.theming.ThemeManager
#:import NavigationDrawer kivymd.navigationdrawer.NavigationDrawer
#:import MDCheckbox kivymd.selectioncontrols.MDCheckbox
#:import MDList kivymd.list.MDList
#:import OneLineListItem kivymd.list.OneLineListItem
#:import TwoLineListItem kivymd.list.TwoLineListItem
#:import OneLineAvatarListItem kivymd.list.OneLineAvatarListItem
#:import OneLineIconListItem kivymd.list.OneLineIconListItem
#:import OneLineAvatarIconListItem kivymd.list.OneLineAvatarIconListItem
#:import MDTextField kivymd.textfields.MDTextField
#:import MDSpinner kivymd.spinner.MDSpinner
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import colors kivymd.color_definitions.colors
#:import SmartTile kivymd.grid.SmartTile
#:import MDThemePicker kivymd.theme_picker.MDThemePicker
#:import MDDropdownMenu kivymd.menu.MDDropdownMenu
#:import MDSlider kivymd.slider.MDSlider

<GbeeRoot>:
    orientation: 'vertical'
    ScreenManager:
        id:gbee_screen_manager
        MainScreen:
            id:main_screen
            name: 'main_screen'
        PythonBytesScreen:
            id:settings_screen
            name:'settings_screen'
        PlayScreen:
            id:play_screen
            name:'play_screen'
<MainScreen>:
#    Image:
#        source:'./assets/kivymd_logo.png'


#    Toolbar:
#        id: toolbar
#        title: 'PayApp'
#        md_bg_color: app.theme_cls.primary_color
#        background_palette: 'Primary'
#        background_hue: '500'
#        right_action_items: [['dots-vertical', lambda x: app.nav_drawer.toggle()]]

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            height: "60dp"
            size_hint_y: None
            Toolbar:
                id: toolbar
                size_hint_x: 10
                title: '\t\t\tPyPod'
                md_bg_color: app.theme_cls.primary_color
                background_palette: 'Primary'
                background_hue: '500'
                left_action_items: [['menu', lambda x: app.nav_drawer.toggle()]]
#                right_action_items: [['meu', lambda x: app.nav_drawer.toggle()]]
                right_action_items: [['file', lambda x: app.nav_drawer.toggle()],['dots-vertical', lambda x: app.nav_drawer.toggle()]]

        BoxLayout:
            ATab:
                tab_indicator_height: '3dp'
                anim_threshold: 7
                TollTab:
                    orientation: 'horizontal'
                    text:'FEATURED'
                    MDBottomNavigation:
                        id: bottom_navigation_demo
                        MDBottomNavigationItem:
                            name: 'call'
                            text: "Toll Free"
                            icon: "dialpad"
                            FloatLayout:
                                MDIconButton:
                                    icon: 'dialpad'
                                    pos_hint: {'center_x': 0.5, 'center_y': 0.7}
                                    size_hint: 0.8, None
                                    height: dp(48)
                                MDLabel:
                                    font_style: 'Body1'
                                    theme_text_color: 'Primary'
                                    text: "Tap to Call"
                                    halign: 'center'
                                    size_hint_y: None
                                    height: self.texture_size[1] + dp(4)
                                    pos_hint: {'center_x': 0.5, 'center_y': 0.6}

                                GridLayout:
                                    orientation: "vertical"
                                    cols:3
                                    Image:
#                                        source:'./assets/wave.gif'
                                        pos_hint: {'center_x': 0.1, 'center_y': 0.4}
                                        size_hint: 0.7, None
                                        height: dp(500)
                                        anim_delay: 0.006

                                    ImageButton:
                                        id: play_button
                                        source:'./assets/play (2).png'
                                        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                                        size_hint: 0.7, None
                                        height: dp(500)
                                        on_press:root.pause_play()

                                    ImageButton:
#                                        id: play_button
                                        source:'./assets/share (2).png'
                                        pos_hint: {'center_x': 0.9, 'center_y': 0.4}
                                        size_hint: 0.7, None
                                        height: dp(500)
                                        on_press:root.pause_play()





                        MDBottomNavigationItem:
                            name: 'email'
                            text: "Get a Joke"
                            icon: 'email'
                            Image:
                                source:'./assets/pyjokes.png'
                                pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                                size_hint: 0.7, None
                                height: dp(500)

                            FloatLayout:
                                MDIconButton:
                                    icon: 'shuffle'
                                    id:get_a_joke
                                    pos_hint: {'center_x': 0.5, 'center_y': 0.75}
                                    size_hint: 0.8, None
                                    height: dp(48)
                                    on_press: root.get_joke()
                                MDLabel:
                                    id: get_a_joke_text
                                    font_style: 'Body1'
                                    theme_text_color: 'Primary'
                                    text: "Tap for a Joke"
                                    halign: 'center'
                                    size_hint_y: None
                                    height: self.texture_size[1] + dp(4)
                                    pos_hint: {'center_x': 0.5, 'center_y': 0.9}

                                Slider:
                                    id: slid1
                                    cursor_height: sp(20)
                                    cursor_width: sp(20)
                                    value_track: True
                                    value_track_width: dp(2)
                                    min: 0.10
                                    max: 0.20
                                    value: 0.10
                                    pos_hint: {'center_x':.1,'center_y':-1}
                                    size_hint: (.2,3.8)
                                    on_value: app.kaydir()





#                                Button:
#                                    id: btn4
##                                    pos_hint: {'center_x':.876,'center_y':.068}
#                                    pos_hint:  {'center_x': 0.8, 'center_y': 0.2}
#                                    size_hint: (.176,.1)
#                                    background_normal: './assets/share.png'
#                                    background_down: './assets/a.png'
#                                    border: (0,0,0,0)
#                                    allow_stretch: False
#                                    keep_ratio: True
#                                    on_release: app.share()
#                                    on_press: app.triger()
                                MDIconButton:
                                    icon: 'share-variant'
                                    id: btn4
                                    size_hint: 0.2,0.2
                                    pos_hint:  {'center_x': 0.8, 'center_y': 0.1}
                                    on_press: root.share()

#                                Button:
#                                    id: btn3
##                                    pos_hint: {'center_x':.876,'center_y':.068}
#                                    size_hint: (.176,.1)
#                                    pos_hint:  {'center_x': 0.8, 'center_y': 0.2}
#                                    background_normal: './assets/rate.png'
#                                    background_down: './assets/a.png'
#                                    border: (0,0,0,0)
#                                    allow_stretch: False
#                                    keep_ratio: True
#                                    on_release: app.playstore()
#                                    on_press: app.triger()

                                MDIconButton:
                                    icon: 'web'
                                    id: btn3
                                    size_hint: 0.2,0.2
                                    pos_hint:  {'center_x': 0.8, 'center_y': 0.1}
                                    on_press:root.pyjokes()

                                MDIconButton:
                                    icon: 'thumb-up'
                                    id: btn2
                                    size_hint: 0.2,0.2
                                    pos_hint:  {'center_x': 0.8, 'center_y': 0.1}
                                    on_press: root.like()

#                                Button:
#                                    id: btn2
##                                    pos_hint: {'center_x':.876,'center_y':.068}
#                                    size_hint: (.176,.1)
#                                    pos_hint:  {'center_x': 0.8, 'center_y': 0.2}
#                                    background_normal: './assets/feed.png'
#                                    background_down: './assets/a.png'
#                                    border: (0,0,0,0)
#                                    allow_stretch: False
#                                    keep_ratio: True
#                                    on_release: app.feedback()
#                                    on_press: app.triger()

#                                Button:
#                                    id: lab3
#                                    text: 'Payla≈ü'
#                                    size_hint: (.18,.06)
#                                    markup: True
#                                    font_size: sp(13)
#                                    pos_hint: {'center_x':-1,'center_y':.4}
#                            #        background_color: [.23,.23,.23,.5]
#                                    background_normal: './assets/lab.png'
#                                    background_down: './assets/lab.png'
#                                    border: [0,0,0,0]
#                                    allow_stretch: True
#                                    keep_ratio: False
#
#
#                                Button:
#                                    id: lab2
#                                    text: 'Derecelendir'
#                                    size_hint: (.28,.06)
#                                    markup: True
#                                    font_size: sp(13)
#                                    pos_hint: {'center_x':-1,'center_y':.3}
#                            #        background_color: [.23,.23,.23,.5]
#                                    background_normal: './assets/lab.png'
#                                    background_down: './assets/lab.png'
#                                    border: [0,0,0,0]
#                                    allow_stretch: True
#                                    keep_ratio: False
#
#                                Button:
#                                    id: lab1
#                                    text: 'Geribildirim'
#                                    size_hint: (.28,.06)
#                                    markup: True
#                                    font_size: sp(13)
#                                    pos_hint: {'center_x':-1,'center_y':.2}
#                            #        background_color: [.23,.23,.23,.5]
#                                    background_normal: './assets/lab.png'
#                                    background_down: './assets/lab.png'
#                                    border: [0,0,0,0]
#                                    allow_stretch: True
#                                    keep_ratio: False

                                MDFloatingActionButton:
                                    id:    float_act_btn
                                    icon: 'plus'
                                    opposite_colors:    True
                                    elevation_normal:    8
                                    pos_hint:  {'center_x': 0.8, 'center_y': 0.1}
                                    size_hint: 0.12,0.12
                                    size_hint_y:None
                                    size_hint_x:None
                                    background_normal: './assets/a1.png'
                                    background_down: './assets/a.png'
                                    on_press: app.triger()





                CashierTab:
                    orientation: 'vertical'
                    text:'account-card-details'
                    FloatLayout:
                        MDIconButton:
                            icon: 'information'
                            pos_hint: {'center_x': 0.9, 'center_y': 0.9}
                            on_release:self.parent.parent.show_dialog()
                        MDTextField:
                            hint_text: "Enter Account Password"
                            message: "Hello :)"
                            message_mode: "on_focus"
                            password:True
                            size_hint: 0.8, None
                            height: dp(48)
                            pos_hint: {'center_x':.5, 'center_y': .8}

                        MDRaisedButton:
                            size_hint:(0.7, 0.08)
                            text: 'Configuration Type'
                            opposite_colors: True
                            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
#                            on_release:print self.parent.parent
                            on_release: MDDropdownMenu(items=self.parent.parent.menu_items, width_mult=4).open(self)

                        MDRaisedButton:
                            text: 'Service Provider Config'
                            pos_hint:{'center_x': 0.5, 'center_y': 0.4}
                            size_hint:(0.7, 0.08)
#
                ManagementTab:
                    orientation: 'vertical'
                    text:'face-profile'
                    FloatLayout:
                        MDTextField:
                            hint_text: "Enter Old Password"
                            message: "Hello :)"
                            message_mode: "on_focus"
                            password:True
                            size_hint: 0.8, None
                            height: dp(48)
                            pos_hint: {'center_x':.5, 'center_y': .8}
                        MDTextField:
                            hint_text: "Enter New Password"
                            message: "Hello :)"
                            message_mode: "on_focus"
                            password:True
                            size_hint: 0.8, None
                            height: dp(48)
                            pos_hint: {'center_x':.5, 'center_y': .7}

                        MDTextField:
                            hint_text: "Enter New Password Again"
                            message: "Hello :)"
                            message_mode: "on_focus"
                            password:True
                            size_hint: 0.8, None
                            height: dp(48)
                            pos_hint: {'center_x':.5, 'center_y': .6}

                        MDRaisedButton:
                            text: 'Change Password'
                            pos_hint:{'center_x': 0.5, 'center_y': 0.4}
                            size_hint:(0.7, 0.08)

#

                InvestmentsTab:
                    orientation: 'vertical'
                    text:'basket-fill'
                    ScrollView:
                        do_scroll_x: False
                        FloatLayout:
                            size_hint_y: None
                            height: 8 * dp(85)
                            MDTextField:
                                hint_text: "Enter Amount to Invest "
                                message: "Hello :)"
                                message_mode: "on_focus"
                                password:True
                                size_hint: 0.8, None
                                height: dp(48)
                                pos_hint: {'center_x':.5, 'center_y': .8}
                            MDRaisedButton:
                                text: 'Duration'
                                pos_hint:{'center_x': 0.5, 'center_y': 0.7}
                                size_hint:(0.7, 0.08)
                                on_release: MDDropdownMenu(items=self.parent.parent.parent.menu_items, width_mult=4).open(self)

                            MDRaisedButton:
                                text: 'Process Investment'
                                pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                                size_hint:(0.7, 0.08)
#                                on_release: MDDropdownMenu(items=self.parent.parent.parent.menu_items, width_mult=4).open(self)

                RechargeTab:
                    orientation: 'vertical'
                    text:'coins'
                    FloatLayout:
                        MDTextField:
                            hint_text: "Recharge Voucher Number"
                            message: "Hello :)"
                            message_mode: "on_focus"
                            password:True
                            size_hint: 0.8, None
                            height: dp(48)
                            pos_hint: {'center_x':.5, 'center_y': .9}
                        MDTextField:
                            hint_text: "Enter Voucher's Serial Number"
                            message: "Hello :)"
                            message_mode: "on_focus"
                            password:True
                            size_hint: 0.8, None
                            height: dp(48)
                            pos_hint: {'center_x':.5, 'center_y': .7}

                        MDRaisedButton:
                            text: 'Recharge Account'
                            pos_hint:{'center_x': 0.5, 'center_y': 0.6}
                            size_hint:(0.7, 0.08)

                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: "Account Balance"
                            halign: 'center'
                            size_hint_y: None
                            height: self.texture_size[1] + dp(4)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: "30.00"
                            font_size:50
                            halign: 'center'
                            size_hint_y: None
                            height: self.texture_size[1] + dp(4)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.3}




                ImportTab:
                    orientation: 'vertical'
                    text:'import'
                    ScrollView:
                        do_scroll_x: False
                        FloatLayout:
                            size_hint_y: None
                            height: 8 * dp(85)
                            MDTextField:
                                hint_text: "Old Account "
                                message: "Hello :)"
                                message_mode: "on_focus"
                                password:True
                                size_hint: 0.8, None
                                height: dp(48)
                                pos_hint: {'center_x':.5, 'center_y': .9}
                            MDRaisedButton:
                                text: 'ID Type'
                                pos_hint:{'center_x': 0.5, 'center_y': 0.8}
                                size_hint:(0.7, 0.08)
                                on_release: MDDropdownMenu(items=self.parent.parent.parent.menu_items, width_mult=4).open(self)

                            MDTextField:
                                hint_text: "ID Number "
                                message: "Hello :)"
                                message_mode: "on_focus"
                                password:True
                                size_hint: 0.8, None
                                height: dp(48)
                                pos_hint: {'center_x':.5, 'center_y': .7}

                            MDTextField:
                                hint_text: "Registered Full Name "
                                message: "Hello :)"
                                message_mode: "on_focus"
                                password:True
                                size_hint: 0.8, None
                                height: dp(48)
                                pos_hint: {'center_x':.5, 'center_y': .6}

                            MDTextField:
                                hint_text: "Registered Password "
                                message: "Hello :)"
                                message_mode: "on_focus"
                                password:True
                                size_hint: 0.8, None
                                height: dp(48)
                                pos_hint: {'center_x':.5, 'center_y': .5}

                            MDTextField:
                                hint_text: "Previous Registered Number "
                                message: "Hello :)"
                                message_mode: "on_focus"
                                password:True
                                size_hint: 0.8, None
                                height: dp(48)
                                pos_hint: {'center_x':.5, 'center_y': .4}

                            MDRaisedButton:
                                text: 'Import'
                                pos_hint:{'center_x': 0.5, 'center_y': 0.3}
                                size_hint:(0.7, 0.08)
<PythonBytesScreen>:
    on_pre_enter: root.load_rss()
    BoxLayout:
        orientation: 'vertical'
#        BoxLayout:
#            id: toolbar_box
#            height: "60dp"
#            size_hint_y: None
#            opacity:0.5
#            Toolbar:
#                id: toolbar
#                size_hint_x: 10
#                title: '\t\t\tSettings'
#                md_bg_color: app.theme_cls.primary_color
#                background_palette: 'Primary'
#                background_hue: '500'
##                border: (0,0,0,0)
##                background_color:(0,0,0,0)
#                opacity :0.8
#                left_action_items: [['menu', lambda x: app.root.next_screen('main_screen')]]

        FloatLayout:
            Image:
                source:'./assets/rss_back.png'
                allow_stretch: True
                keep_ratio: False

            MDSpinner:
                id: spinner
                size_hint: None, None
                size: dp(56), dp(56)
                pos_hint: {'center_x': 0.5, 'center_y': 0.7}
                active: False

            ScrollView:
                id: scroll
                do_scroll_x: False
                effect_cls: DampedScrollEffect
                on_scroll_move: root.refresh()
                on_scroll_stop: root.return_toolbar()
                FloatLayout:
                    size_hint_y: None
                    height: 8 * dp(575)

                    MDList:
                        id: ml
                        OneLineListItem:
                            text: "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*** Pull Down to Refresh ***"




<PlayScreen>:
    on_enter: root.load_info()
    MDSpinner:
        id: spinner
        size_hint: None, None
        size: dp(46), dp(46)
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        active: True
    MDBottomNavigation:
        id: bottom_navigation_demo
        MDBottomNavigationItem:
            name: 'octagon'
            text: "Now Playing"
            icon: "play"


            GridLayout:
                rows:3
                FloatLayout:
                    Image:
                        source:'./assets/rss_back.png'
                        allow_stretch: True
                        keep_ratio: False
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    Image:
                        source:'./assets/signal_h.png'
                        pos_hint: {'center_x': 0.9, 'center_y': 0.3}
                    Image:
                        source:'./assets/signal_l.png'
                        pos_hint: {'center_x': 0.9, 'center_y': 0.1}
#
                MDSlider:
                    size_hint_y:None
                    height:20
                    id: hslider
                    min:0
                    max:100
                    value: 10
                BoxLayout:
                    orientation:"horizontal"
                    size_hint_y:None
                    height:100
                    ImageButton:
                        id: play_button
                        source:'./assets/previous.png'
                        on_press:root.pause_play()
                    ImageButton:
                        id: play_button_
                        source:'./assets/play (2).png'
                        on_press:root.pause_play()
                    ImageButton:
                        id: play_button
                        source:'./assets/next.png'
                        on_press:root.pause_play()

#                Image:
#                    source:'./assets/rss_back.png'
#                    allow_stretch: True
#                    keep_ratio: False
#                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDBottomNavigationItem:
            name: 'banking'
            text: "Details"
            icon: 'rss-box'
            Image:
                source:'./assets/rss_back.png'
                allow_stretch: True
                keep_ratio: False
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            FloatLayout:
                GridLayout:
                    orientation: "vertical"
                    cols:3
                    Image:
#                        source:'./assets/wave.gif'
                        pos_hint: {'center_x': 0.1, 'center_y': 0.4}
                        size_hint: 0.7, None
                        height: dp(500)
                        anim_delay: 0.006

                    ImageButton:
                        id: play_button
                        source:'./assets/soundup.png'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                        size_hint: 0.7, None
                        height: dp(500)
                        on_press:root.pause_play()

                    ImageButton:
#                                        id: play_button
                        source:'./assets/soundup.png'
                        pos_hint: {'center_x': 0.9, 'center_y': 0.4}
                        size_hint: 0.7, None
                        height: dp(500)
                        on_press:root.pause_play()




<Drawer>:
    title: "pyPod"
    NavigationDrawerIconButton:
        icon: 'music-box'
        text: "Python Bytes"
        on_press: app.root.next_screen('settings_screen');

    NavigationDrawerIconButton:
        icon: 'import'
        text: "Import This"
        on_release: app.root.to("import_this");app.root.next_screen('settings_screen')

    NavigationDrawerIconButton:
        icon: 'script'
        text: "Programming Throwdown"
        on_release: app.root.next_screen('sermons')

    NavigationDrawerIconButton:
        icon: 'music-circle'
        text: "Python Outloud"
        on_release: app.root.next_screen('guide')

    NavigationDrawerIconButton:
        icon: 'music-box'
        text: "Podcast.__init__('Python')"
        on_release: app.root.next_screen('announcements')

    NavigationDrawerIconButton:
        icon: 'library-music'
        text: "TalkPythonToMe"
        on_release: app.root.next_screen('gallery')

    NavigationDrawerIconButton:
        icon: 'file-music'
        text: "TestAndCode"
        on_release: app.root.next_screen('settings_screen')


